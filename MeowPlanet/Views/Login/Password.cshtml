@{
    ViewData["Title"] = "忘記密碼";
}

@section Styles{
    <link href="~/css/password.css" rel="stylesheet" />
}

    <section class="h-100 d-flex justify-content-center">

        <div class="password text-center justify-content-center align-items-center">
            <div class="form">
                <div><i class="fa-2x fa-solid fa-unlock mb-4"></i></div>
                <h2 class="mb-3">忘記密碼?</h2>
                <p class="mb-5">我們會發送一封有重設密碼超連結的Email給你。</p>
                <div class="group">
                    <label for="user_id" class="d-block text-start">Email</label>
                    <input type="text" id="user_id"/>
                    
                </div>
                <div style="height:50px;">
                    <div id="responseText" class="response text-start"></div>
                </div>
                <div class="d-flex justify-content-center">
                    <button class="btn btn_reset" id="btn_reset" onclick="SendEmail()">寄出密碼重設信</button>
                </div>
                <a asp-controller="Login" asp-action="Index" class="d-flex justify-content-center align-items-center return">
                    <i class="fa-solid fa-arrow-left"></i>
                    <p class="m-0 ms-2">返回登入</p>
                </a>
                
            </div>

        </div>


    </section>



<script>
    function SendEmail(){
        $.get("@Url.Action("ForgetPassword", "Login")", {ForgetEmail:$('#user_id').val()},function(data){
            if (data == "重置信已寄出") {
                $("#responseText").html(data)
                $.get("@Url.Action("SendEmailMsg", "Login")", { email: $('#user_id').val() });
            } else {
                $("#responseText").html(data)
            }
        })
    }
</script>
